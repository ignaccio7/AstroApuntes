---
const images = [
  {
    src: "/images/archivo/gallery/thumbnails/img-1.webp",
    href: "/images/archivo/gallery/img-1.webp",
    alt: "Imagen 1",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-2.webp",
    href: "/images/archivo/gallery/img-2.webp",
    alt: "Imagen 2",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-3.webp",
    href: "/images/archivo/gallery/img-3.webp",
    alt: "Imagen 3",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-4.webp",
    href: "/images/archivo/gallery/thumbnails/img-4.webp",
    alt: "Imagen 4",
    height: 806.4,
    width: 536.9,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-5.webp",
    href: "/images/archivo/gallery/thumbnails/img-5.webp",
    alt: "Imagen 5",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-6.webp",
    href: "/images/archivo/gallery/thumbnails/img-6.webp",
    alt: "Imagen 6",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-7.webp",
    href: "/images/archivo/gallery/thumbnails/img-7.webp",
    alt: "Imagen 7",
    height: 806.4,
    width: 536.9,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-8.webp",
    href: "/images/archivo/gallery/thumbnails/img-8.webp",
    alt: "Imagen 8",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-9.webp",
    href: "/images/archivo/gallery/thumbnails/img-9.webp",
    alt: "Imagen 9",
    height: 536.9,
    width: 806.4,
  },
  {
    src: "/images/archivo/gallery/thumbnails/img-10.webp",
    href: "/images/archivo/gallery/thumbnails/img-10.webp",
    alt: "Imagen 10",
    height: 536.9,
    width: 806.4,
  },
];
---

<div class="w-full h-auto relative">
  <h2
    class="text-center text-5xl font-bold mt-20 text-white uppercase font-onest"
  >
    Galería
    <span class="block text-xl mt-4 font-light normal-case opacity-70"
      >Algunos de los mejores momentos de la gala que pasarán a la historia.</span
    >
  </h2>

  <!-- <div class="">
    <section class="container">
      <div>
        <h2>Item 1</h2>
      </div>
      <div>
        <h2>Item 2</h2>
      </div>
      <div>
        <h2>Item 3</h2>
      </div>
      <div>
        <h2>Item 4</h2>
      </div>
      <div>
        <h2>Item 5</h2>
      </div>
      <div>
        <h2>Item 6</h2>
      </div>
      <div>
        <h2>Item 7</h2>
      </div>
      <div>
        <h2>Item 8</h2>
      </div>
      <div>
        <h2>Item 9</h2>
      </div>
      <div>
        <h2>Item 10</h2>
      </div>
      <div>
        <h2>Item 11</h2>
      </div>
      <div>
        <h2>Item 12</h2>
      </div>
      <div>
        <h2>Item 13</h2>
      </div>
      <div>
        <h2>Item 14</h2>
      </div>
      <div>
        <h2>Item 15</h2>
      </div>
      <div>
        <h2>Item 16</h2>
      </div>
      <div>
        <h2>Item 17</h2>
      </div>
      <div>
        <h2>Item 18</h2>
      </div>
      <div>
        <h2>Item 19</h2>
      </div>
      <div>
        <h2>Item 20</h2>
      </div>
    </section>
  </div> -->
  <!-- <div class="overflow-visible"> -->
    <masonry-layout
      maxcolwidth="400"
      class="gallery pswp-gallery pswp-gallery--single-column"
      id="gallery"
      gap="16"
    >
      {
        images.map((image) => {
          return (
            <a
              href={image.href},
              class="w-full h-auto mb-4 relative hover:scale-105 group transition-all duration-300 ease-in-out"
              target="_blank"
              data-pswp-width={image.width}
              data-pswp-height={image.height}
            >
              <img
                src={image.src}
                alt={`Image of ${image.alt}`}
                class="w-full h-auto object-cover rounded-md"
              />
              <img
                src={image.src}
                alt={`Image of ${image.alt}`}
                class="w-full h-auto object-cover rounded-xl transition-all duration-300 ease-in-out
              inset-0 absolute blur-xs -z-10 group-hover:blur-md
              group-hover:contrast-125"
              />
            </a>
          );
        })
      }
    </masonry-layout>
  <!-- </div> -->
</div>

<style>
  .gallery {
    width: 100%;
    max-width: 1920px;
    margin-inline: auto;
    padding-block: 4rem;
    padding-inline: 2rem;
    height: auto;

    /* display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem;

    grid-auto-flow: row dense; */
  }

  a {
    animation: entry-bottom linear both;
    animation-timeline: view();
    animation-range: entry 20% cover 30%;

    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  }

  .container {
    height: auto;
    background-color: lightcoral;
    margin-inline: auto;
  }

  .container div {
    width: 100%;
    height: 200px;

    animation: entry-bottom linear both;
    animation-timeline: view();
    animation-range: entry 20% cover 30%;
  }

  .container div:nth-child(odd) {
    background-color: lightgreen;
  }

  .container div:nth-child(even) {
    background-color: lightslategray;
  }

  @keyframes entry-bottom {
    from {
      opacity: 0;
      transform: translateY(100%);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  import PhotoSwipeLightbox from "photoswipe/lightbox";
  import "photoswipe/style.css";
  import "@appnest/masonry-layout";

  const lightbox = new PhotoSwipeLightbox({
    gallery: "#gallery",
    children: "a",
    pswpModule: () => import("photoswipe"),
  });
  lightbox.init();

  document?.querySelector("masonry-layout")?.layout();
</script>
